{% extends 'photos/base.html' %}

{% load static %}
<style>
input[type=text], select {
  width: 100%;
  padding: 12px 20px;
  border: 1px solid #ccc;
}

button[type=submit] {
  width: 100%;
  background-color: #4CAF50;
  color: white;
  padding: 20px 30px;
  margin: 18px 13px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

div {
  border-radius: 10px;
  background-color: #f2f2f2;
  padding: 8px;
}
/* Create four equal columns that floats next to each other */
.column {
  float: left;
  width: 530px;
  padding: 10px;
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

</style>
{% block javascript %}
  {# JQUERY FILE UPLOAD SCRIPTS #}
  <script src="{% static 'js/jquery-file-upload/vendor/jquery.ui.widget.js' %}"></script>
  <script src="{% static 'js/jquery-file-upload/jquery.iframe-transport.js' %}"></script>
  <script src="{% static 'js/jquery-file-upload/jquery.fileupload.js' %}"></script>

  {# PHOTOS PAGE SCRIPTS #}
  <script src="{% static 'photos/js/progress-bar-upload.js' %}"></script>
{% endblock %}

{% block photos_content %}
  <div style="margin-bottom: 20px;">
    <button type="button" class="btn btn-primary js-upload-photos">
      <span class="glyphicon glyphicon-cloud-upload"></span> Select Attachments
    </button>
    <input id="fileupload" type="file" name="document_upload" multiple
           style="display: none;"
           data-url="{% url 'app:progress_bar_upload' %}"
           data-form-data='{"csrfmiddlewaretoken": "{{ csrf_token }}"}'>

    Document Name: <input type="text" name="document_name" id="document_name">
<!--<br/>-->
<!--     <button type="submit" class="btn btn-primary" id="upload" name="upload" >-->
<!--         Upload-->
<!--      </button>-->
  </div>


{% if instance.image %}
     <img src="{{instance.document_location.url}}">

{% endif %}
  <table id="gallery" class="table table-bordered">
    <thead>
      <tr>
        <th>Photo</th>
      </tr>
    </thead>
    <tbody>
      {% for photo in photos %}
        <tr>
          <td><a href="{{ photo.document_location.url }}">{{ photo.document_location.name }}</a></td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="modal fade" id="modal-progress" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Uploading...</h4>
        </div>
        <div class="modal-body">
          <div class="progress">
            <div class="progress-bar" role="progressbar" style="width: 0%;">0%</div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
